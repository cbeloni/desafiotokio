<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.1" xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm"
                 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm
    http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd">

    <named-native-query name="Usuario.findByCpf"
    					result-class="br.com.tokio.entities.Usuario">
        <query>SELECT * FROM usuario u WHERE u.cpf = 98765432100</query>
    </named-native-query>
    
     <named-native-query name="Usuario.findByNome"
     					 result-set-mapping="UsuarioMappingXml">
        <query>SELECT u.id as "id", u.nome as "nome", u.sobrenome as "sobrenome" 
                 FROM usuario u 
                WHERE upper(u.nome) like upper(:nome)</query>
    </named-native-query>
    
    <sql-result-set-mapping name="UsuarioMappingXml">
    	<constructor-result target-class="br.com.tokio.dto.UsuarioDto">
        <column name="id" class="java.lang.Long"/>
        <column name="nome"/>
        <column name="sobrenome"/>
    	</constructor-result>
	</sql-result-set-mapping>
</entity-mappings>